<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Página de Câmera para Registro de Fotos - Qdelícia Frutas">
    <title>Câmera - Qdelícia Frutas</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./style.css"> 
    <style>
        /* Estilos do Container da Câmera em Tela Cheia */
        .fullscreen-camera-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .fullscreen-camera-container.active {
            opacity: 1;
            visibility: visible;
        }

        /* Estilos do Elemento de Vídeo */
        #video {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Garante que o vídeo preencha o container */
            display: block;
        }

        /* Controles da Câmera */
        .camera-controls {
            position: absolute;
            bottom: 20px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            z-index: 1010;
        }

        .camera-control-btn {
            background-color: rgba(255, 255, 255, 0.7);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            cursor: pointer;
            color: #333;
            transition: background-color 0.2s;
        }

        .camera-control-btn:hover {
            background-color: rgba(255, 255, 255, 0.9);
        }

        #shutter-btn {
            width: 80px;
            height: 80px;
            background-color: #ff4500; /* Cor primária */
            color: white;
        }

        #shutter-btn:hover {
            background-color: #e63e00;
        }

        /* Data e Hora na Câmera */
        #date-time {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 16px;
            z-index: 1010;
        }
        
        /* Botão Voltar para Galeria */
        #back-to-gallery-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            z-index: 1010;
        }

        #back-to-gallery-btn:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }

        /* Estilos para a Seção de Formulário da Câmera */
        .camera-form-section {
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .camera-form-section h2 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }

        .camera-form-section .form-group {
            margin-bottom: 15px;
        }

        .camera-form-section label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }

        .camera-form-section select,
        .camera-form-section button#open-camera-btn {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box; /* Garante que padding e border sejam incluídos na largura */
            appearance: none; /* Remove estilo padrão do sistema em selects */
            background-color: #fff;
            cursor: pointer;
        }

        .camera-form-section select:disabled {
            background-color: #e9e9e9;
            cursor: not-allowed;
        }

        .camera-form-section select:focus,
        .camera-form-section button#open-camera-btn:focus {
            border-color: #ff4500;
            outline: none;
        }

        .camera-form-section button#open-camera-btn {
            background-color: #4CAF50; /* Cor para indicar 'pronto' */
            color: white;
            font-weight: bold;
            transition: background-color 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .camera-form-section button#open-camera-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        .camera-form-section button#open-camera-btn i {
            font-size: 18px;
        }

        /* Estilos da Galeria de Fotos */
        .gallery-section {
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-top: 30px;
            text-align: center; /* Centraliza o cabeçalho e contadores */
        }

        .gallery-section h2 {
            color: #333;
            margin-bottom: 20px;
        }

        .gallery-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap; /* Permite quebrar linha em telas pequenas */
            gap: 10px; /* Espaçamento entre os itens */
        }

        .gallery-header h2 {
            margin: 0;
            flex-grow: 1; /* Ocupa espaço disponível */
            text-align: left;
        }

        .photo-count {
            background-color: #ff4500;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        .gallery-actions {
            display: flex;
            gap: 10px;
        }

        .gallery-actions button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: background-color 0.2s ease;
        }

        .gallery-actions button:hover {
            background-color: #0056b3;
        }

        .gallery-actions button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        .photo-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            list-style: none;
            padding: 0;
            margin-top: 20px;
        }

        .photo-item {
            position: relative;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            background-color: #fff;
            padding-bottom: 30px; /* Espaço para o texto da info */
        }

        .photo-item img {
            width: 100%;
            height: 150px; /* Altura fixa para as miniaturas */
            object-fit: cover;
            display: block;
        }

        .photo-item .photo-info {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            color: white;
            padding: 5px 10px;
            font-size: 12px;
            box-sizing: border-box;
            text-align: center;
        }

        /* Estilos do Botão de Lixeira */
        .delete-photo-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(255, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 14px;
            cursor: pointer;
            z-index: 5; /* Garante que fique acima da imagem */
            transition: background-color 0.2s ease;
        }

        .delete-photo-btn:hover {
            background-color: rgba(255, 0, 0, 0.9);
        }

        /* Media Queries para responsividade */
        @media (max-width: 768px) {
            .camera-controls {
                gap: 10px;
                bottom: 10px;
            }

            .camera-control-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }

            #shutter-btn {
                width: 70px;
                height: 70px;
            }

            #date-time, #back-to-gallery-btn {
                font-size: 14px;
                padding: 6px 10px;
                top: 10px;
                right: 10px;
                left: 10px;
            }

            .gallery-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .gallery-actions {
                width: 100%;
                justify-content: flex-start;
                margin-top: 10px;
            }

            .photo-list {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }

            .photo-item img {
                height: 120px;
            }
        }

        @media (max-width: 480px) {
            .camera-form-section {
                padding: 15px;
            }
            .gallery-section {
                padding: 15px;
            }
            .photo-list {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }
            .photo-item img {
                height: 100px;
            }
        }
    </style>
</head>
<body class="camera-page">
    
    <div class="menu-overlay"></div>
    <aside class="side-menu">
        <a href="index.html"><i class="fas fa-home"></i> Início</a>
        <a href="estoque.html"><i class="fas fa-boxes-stacked"></i> Estoque</a>
        <a href="caixas.html"><i class="fas fa-box-open"></i> Caixas</a>
        <a href="vendas.html"><i class="fas fa-chart-line"></i> Vendas</a>
        <a href="avarias.html"><i class="fas fa-trash-can"></i> Avarias</a>
        <a href="camera.html" class="active"><i class="fas fa-camera"></i> Câmera</a>
        
    </aside>

    <header id="cabecalho-principal">
        <button class="menu-toggle" aria-label="Abrir Menu">
            <i class="fas fa-bars"></i>
        </button>
        <div class="logo-placeholder">
            <img src="./images/logo-qdelicia.png" alt="Logomarca Qdelícia Frutas"> 
        </div>
        <h1>Qdelícia Frutas</h1>
        <p>Câmera para Registros</p>
    </header>
    
    <nav>
        <a href="index.html">Início</a>
        <a href="estoque.html">Estoque</a>
        <a href="caixas.html">Caixas</a>
        <a href="vendas.html">Vendas</a>
        <a href="avarias.html">Avarias</a>
        <a href="camera.html" class="active">Câmera</a>
        
    </nav>
    
    <main class="camera-main-content">
        
        <section class="watermark-settings">
            <h2>Informações da Foto</h2>
            
            <div class="input-group">
                <label for="select-promotor"><i class="fas fa-user-tag"></i> Promotor</label>
                <select id="select-promotor" required>
                    <option value="" disabled selected>Selecione na lista</option>
                </select>
            </div>

            <div class="input-group">
                <label for="select-rede"><i class="fas fa-store"></i> Rede</label>
                <select id="select-rede" required disabled> 
                    <option value="" disabled selected>Selecione a sua Rede</option>
                </select>
            </div>

            <div class="input-group">
                <label for="select-loja"><i class="fas fa-map-marker-alt"></i> Loja </label>
                 <select id="select-loja" required disabled>
                    <option value="" disabled selected>Selecione a sua Loja</option>
                </select>
            </div>
        </section>
        <hr>
        
        <section class="start-camera-section">
            <button id="open-camera-btn" disabled> 
                <i class="fas fa-lock"></i> Preencha as Informações Acima
            </button>
        </section>
        <div class="gallery">
            <h2>Fotos Recentes na Galeria</h2>
            
            <div class="action-buttons">
                <button class="action-btn whatsapp-btn-gallery" id="share-all" disabled>
                  <i class="fab fa-whatsapp"></i> Compartilhar Fotos
                </button>
                <button class="action-btn download-btn" id="download-all" disabled>
                  <i class="fas fa-download"></i> Baixar Todas
                </button>
            </div>
            
            <div class="photo-list" id="photo-list">
                </div>
        </div>
    </main>

    <div id="fullscreen-camera-container" class="fullscreen-camera-container">
        <div class="camera-wrapper">
            
            <button id="back-to-gallery-btn"><i class="fas fa-times"></i></button>

            <div id="photo-count">0</div>

            <div class="camera-container">
                <video id="video" autoplay playsinline></video>
            </div>
            
            <div class="watermark">
              <i class="fas fa-clock"></i> <span id="date-time">--/--/---- --:--:--</span>
            </div>
            
            <div class="controls">
              <button id="switch-btn" class="btn-circle"><i class="fas fa-sync-alt"></i></button>
              <button id="shutter-btn" class="btn-circle"></button>
            </div>
            
        </div>
    </div>
    
    <footer>
        <p>&copy; 2025 Qdelícia Frutas. Todos os direitos reservados.</p>
    </footer>

    <a href="https://wa.me/5581997250086" class="whatsapp-btn" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>
    <div class="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </div>
    
    <script src="script.js"></script>
    <script src="camera.js"></script>
</body>
</html>
